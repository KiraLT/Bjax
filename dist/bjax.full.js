!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){var n=r(1);"string"==typeof n&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1};r(3)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(2)(!1)).push([t.i,'.bjax-percentloader-container{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1050;opacity:0.8;filter:alpha(opacity=80);background-color:#fff;color:#788188}.bjax-percentloader-bar{border-top:1px solid #eaeef1;border-width:2px;border-color:#60bed1;width:0}.bjax-percentloader-bar-error{border-color:#d9534f}.bjax-percentloader-error{display:block;top:0;right:0;bottom:0;left:0;font-family:"Source Sans Pro", "Helvetica Neue", Helvetica, Arial, sans-serif;font-size:16px;color:#788188;text-align:center}\n',""])},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var o=(i=n,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot).concat(t," */")}));return[r].concat(a).concat([o]).join("\n")}var i,c,u;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(r,"}"):r})).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(n[a]=!0)}for(var i=0;i<t.length;i++){var c=t[i];null!=c[0]&&n[c[0]]||(r&&!c[2]?c[2]=r:r&&(c[2]="(".concat(c[2],") and (").concat(r,")")),e.push(c))}},e}},function(t,e,r){"use strict";var n,o={},a=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}();function c(t,e){for(var r=[],n={},o=0;o<t.length;o++){var a=t[o],i=e.base?a[0]+e.base:a[0],c={css:a[1],media:a[2],sourceMap:a[3]};n[i]?n[i].parts.push(c):r.push(n[i]={id:i,parts:[c]})}return r}function u(t,e){for(var r=0;r<t.length;r++){var n=t[r],a=o[n.id],i=0;if(a){for(a.refs++;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(h(n.parts[i],e))}else{for(var c=[];i<n.parts.length;i++)c.push(h(n.parts[i],e));o[n.id]={id:n.id,refs:1,parts:c}}}}function l(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var n=r.nc;n&&(t.attributes.nonce=n)}if(Object.keys(t.attributes).forEach((function(r){e.setAttribute(r,t.attributes[r])})),"function"==typeof t.insert)t.insert(e);else{var o=i(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var s,f=(s=[],function(t,e){return s[t]=e,s.filter(Boolean).join("\n")});function d(t,e,r,n){var o=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=f(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function p(t,e,r){var n=r.css,o=r.media,a=r.sourceMap;if(o&&t.setAttribute("media",o),a&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var v=null,b=0;function h(t,e){var r,n,o;if(e.singleton){var a=b++;r=v||(v=l(e)),n=d.bind(null,r,a,!1),o=d.bind(null,r,a,!0)}else r=l(e),n=p.bind(null,r,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a());var r=c(t,e);return u(r,e),function(t){for(var n=[],a=0;a<r.length;a++){var i=r[a],l=o[i.id];l&&(l.refs--,n.push(l))}t&&u(c(t,e),e);for(var s=0;s<n.length;s++){var f=n[s];if(0===f.refs){for(var d=0;d<f.parts.length;d++)f.parts[d]();delete o[f.id]}}}}},function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"bindLinks",(function(){return m})),r.d(n,"loadLink",(function(){return y})),r.d(n,"liveBind",(function(){return u})),r.d(n,"find",(function(){return a})),r.d(n,"findAll",(function(){return i})),r.d(n,"PercentLoader",(function(){return j}));var o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};function a(t){if(t instanceof Element)return t;if(t instanceof Array)return t[0]||void 0;if(t instanceof NodeList)return t[0]||void 0;if("string"==typeof t)try{return document.querySelector(t)||void 0}catch(t){console.error(t)}}function i(t){if(t instanceof Element)return[t];if(t instanceof Array)return t;if(t instanceof NodeList)return Array.prototype.slice.call(t);if("string"==typeof t)try{return Array.prototype.slice.call(document.querySelectorAll(t))}catch(t){console.error(t)}return[]}function c(t,e){var r=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;return i(t).some((function(t){return r.call(t,e)}))}function u(t,e,r){window.addEventListener(e,(function(e){var n=e.target;if(n instanceof HTMLElement){var a=o([n],function t(e,r){var n=[];return i(e).forEach((function(e){var r=e.parentNode;r!==document&&r instanceof Element&&(n.push(r),n=n.concat(t(r)))})),n.filter((function(t){return void 0===r||c(t,r)}))}(n)).find((function(e){return"string"==typeof t?c(e,t):t===e}));a instanceof HTMLElement&&r(e,a)}}))}function l(t,e){var r=a(t);return r||function(t){var e=document.createElement("div");e.innerHTML=t.trim();var r=e.firstChild;if(r)return e.removeChild(r),r}(e)}var s,f=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});var d=function(t){function e(e,r){var n=t.call(this,e)||this;return n.status=r,n}return f(e,t),e}(Error),p=function(){return(p=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},v=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},b={target:"body",source:"body",successCallback:function(){},errorCallback:function(){},shouldUpdateUrl:!0,loader:{},selector:""},h=!1;function y(t,e){var r=p(p({},b),e),n=r.target,o=r.source,i=r.selector,c=r.successCallback,u=r.errorCallback,l=r.shouldUpdateUrl,s=r.loader,f=a(i||n);if(f instanceof HTMLElement){h||(window.addEventListener("popstate",(function(t){var e=t.state;console.log(e),e.bjaxLink&&y(e.bjaxLink.url,{shouldUpdateUrl:!1,loader:e.bjaxLink.loader})}),!1),history.replaceState({bjaxLink:{url:location.href,loader:b.loader}},""),h=!0);var v=s.start?s.start({target:f}):void 0;!function(t,e,r){var n=new XMLHttpRequest;n.open("GET",t.url,!0);try{n.send(null)}catch(r){console.log(r)}n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e(n.responseText):r(new d(n.statusText,n.status)))}}({url:t},(function(e){var r=document.createElement("html");r.innerHTML=e;var n=r.querySelector(i||o);n instanceof HTMLElement&&(f.innerHTML=n.innerHTML);var a=r.querySelector("title");if(document.title=a?a.innerHTML:document.title,l)try{history.pushState({bjaxLink:{url:t,loader:s}},document.title,t)}catch(t){console.warn("Failed to update URL: "+t)}s.finish&&s.finish({target:f},v),c({target:f})}),(function(t){s.error&&s.error({error:t,target:f},v),u({error:t,target:f})}))}else console.error("loadLink target not found")}var g=p(p({},b),{url:"",urlAttribute:"href",target:"",targetAttribute:"data-target",source:"",sourceAttribute:"data-source",selector:"",selectorAttribute:"data-selector"});function m(t,e){var r=p(p({},g),e),n=r.url,o=r.urlAttribute,a=r.source,i=r.sourceAttribute,c=r.target,l=r.targetAttribute,s=r.selector,f=r.selectorAttribute,d=v(r,["url","urlAttribute","source","sourceAttribute","target","targetAttribute","selector","selectorAttribute"]);u(t,"click",(function(t,e){var r=n||("href"===o&&e instanceof HTMLAnchorElement?e.href:e.getAttribute(o)),u=a||e.getAttribute(i),v=c||e.getAttribute(l),b=s||e.getAttribute(f);r?(y(r,p(p(p(p({},u?{source:u}:void 0),v?{target:v}:void 0),b?{selector:b}:void 0),d)),t.preventDefault()):console.error("Clicked element does not have valid URL")}))}var j=function(){function t(){}return t.prototype.start=function(t){var e,r,n,o,a=t.target,i=l(a.querySelector(".bjax-percentloader-container"),'\n            <div class="bjax-percentloader-container"></div>\n        '),c=l(a.querySelector(".bjax-percentloader-bar"),'\n            <div class="bjax-percentloader-bar"></div>\n        '),u=l(a.querySelector(".bjax-percentloader-error"),'\n            <div class="bjax-percentloader-error"></div>\n        ');return i.appendChild(c),i.appendChild(u),a.style.position="relative",a.appendChild(i),{mainEl:i,barEl:c,errorEl:u,interval:(e=function(t){c.style.width=t+"%"},r=500,n=Date.now(),o=setInterval((function(){var t=Date.now();t-n>=r?(e(100),clearInterval(o)):e(Math.min(Math.round((t-n)/r*100),100))}),Math.max(30,Math.round(r/100))),o)}},t.prototype.finish=function(t,e){var r=t.target,n=e.interval;clearInterval(n),r.style.position=""},t.prototype.error=function(t,e){t.target;var r=t.error,n=(e.interval,e.barEl),o=e.errorEl;n.className="bjax-percentloader-bar bjax-percentloader-bar-error",o.innerHTML=r.message},t}();r(0);window.Bjax=n}]);