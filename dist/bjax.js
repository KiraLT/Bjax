parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"HSCZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.find=t,exports.findAll=r,exports.matches=n,exports.parents=o,exports.liveBind=i,exports.create=c,exports.findOrCreate=f;var e=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],c=0,f=i.length;c<f;c++,o++)n[o]=i[c];return n};function t(e){if(e instanceof Element)return e;if(e instanceof Array)return e[0]||void 0;if(e instanceof NodeList)return e[0]||void 0;if("string"==typeof e)try{return document.querySelector(e)||void 0}catch(t){console.error(t)}}function r(e){if(e instanceof Element)return[e];if(e instanceof Array)return e;if(e instanceof NodeList)return Array.prototype.slice.call(e);if("string"==typeof e)try{return Array.prototype.slice.call(document.querySelectorAll(e))}catch(t){console.error(t)}return[]}function n(e,t){var n=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;return r(e).some(function(e){return n.call(e,t)})}function o(e,t){var i=[];return r(e).forEach(function(e){var t=e.parentNode;t!==document&&t instanceof Element&&(i.push(t),i=i.concat(o(t)))}),i.filter(function(e){return void 0===t||n(e,t)})}function i(t,r,i){window.addEventListener(r,function(r){var c=r.target;if(c instanceof HTMLElement){var f=e([c],o(c)).filter(function(e){return"string"==typeof t?n(e,t):t===e})[0];f instanceof HTMLElement&&i(r,f)}})}function c(e){var t=document.createElement("div");t.innerHTML=e.trim();var r=t.firstChild;if(r)return t.removeChild(r),r}function f(e,r){var n=t(e);return n||c(r)}
},{}],"zcCf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.request=e,exports.RequestError=void 0;var t=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();function e(t,e,o){var n=new XMLHttpRequest;n.open("GET",t.url,!0);try{n.send(null)}catch(o){console.log(o)}n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e(n.responseText):o(new r(n.statusText,n.status)))}}var r=function(e){function r(t,r){var o=e.call(this,t)||this;return o.status=r,o}return t(r,e),r}(Error);exports.RequestError=r;
},{}],"H0qo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadLink=l,exports.bindLinks=c;var t=require("./dom"),e=require("./helpers"),r=function(){return(r=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},o=function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]])}return r},n={target:"body",source:"body",successCallback:function(){},errorCallback:function(){},shouldUpdateUrl:!0,loader:{},selector:""},a=!1;function l(o,l){var u=r(r({},n),l),c=u.target,s=u.source,d=u.selector,b=u.successCallback,f=u.errorCallback,p=u.shouldUpdateUrl,g=u.loader,v=(0,t.find)(d||c);if(v instanceof HTMLElement){a||(i(),a=!0);var h=g.start?g.start({target:v}):void 0;(0,e.request)({url:o},function(t){var e=document.createElement("html");e.innerHTML=t;var r=e.querySelector(d||s);r instanceof HTMLElement&&(v.innerHTML=r.innerHTML);var n=e.querySelector("title");if(document.title=n?n.innerHTML:document.title,p)try{history.pushState({bjaxLink:{url:o,loader:g}},document.title,o)}catch(a){console.warn("Failed to update URL: "+a)}g.finish&&g.finish({target:v},h),b({target:v})},function(t){g.error&&g.error({error:t,target:v},h),f({error:t,target:v})})}else console.error("loadLink target not found")}function i(){window.addEventListener("popstate",function(t){var e=t.state;console.log(e),e.bjaxLink&&l(e.bjaxLink.url,{shouldUpdateUrl:!1,loader:e.bjaxLink.loader})},!1),history.replaceState({bjaxLink:{url:location.href,loader:n.loader}},"")}var u=r(r({},n),{url:"",urlAttribute:"href",target:"",targetAttribute:"data-target",source:"",sourceAttribute:"data-source",selector:"",selectorAttribute:"data-selector"});function c(e,n){var a=r(r({},u),n),i=a.url,c=a.urlAttribute,s=a.source,d=a.sourceAttribute,b=a.target,f=a.targetAttribute,p=a.selector,g=a.selectorAttribute,v=o(a,["url","urlAttribute","source","sourceAttribute","target","targetAttribute","selector","selectorAttribute"]);(0,t.liveBind)(e,"click",function(t,e){var o=i||("href"===c&&e instanceof HTMLAnchorElement?e.href:e.getAttribute(c)),n=s||e.getAttribute(d),a=b||e.getAttribute(f),u=p||e.getAttribute(g);o?(l(o,r(r(r(r({},n?{source:n}:void 0),a?{target:a}:void 0),u?{selector:u}:void 0),v)),t.preventDefault()):console.error("Clicked element does not have valid URL")})}
},{"./dom":"HSCZ","./helpers":"zcCf"}],"lXEa":[function(require,module,exports) {

},{}],"ozBm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PercentLoader=void 0;var r=require("../../dom");function e(r,e,t){var a=Date.now(),n=setInterval(function(){var e=Date.now();e-a>=t?(r(100),clearInterval(n)):r(Math.min(Math.round((e-a)/t*100),100))},Math.max(30,Math.round(t/100)));return n}var t=function(){function t(){}return t.prototype.start=function(t){var a=t.target,n=(0,r.findOrCreate)(a.querySelector(".bjax-percentloader-container"),'\n            <div class="bjax-percentloader-container"></div>\n        '),o=(0,r.findOrCreate)(a.querySelector(".bjax-percentloader-bar"),'\n            <div class="bjax-percentloader-bar"></div>\n        '),i=(0,r.findOrCreate)(a.querySelector(".bjax-percentloader-error"),'\n            <div class="bjax-percentloader-error"></div>\n        ');return n.appendChild(o),n.appendChild(i),a.style.position="relative",a.appendChild(n),{mainEl:n,barEl:o,errorEl:i,interval:e(function(r){o.style.width=r+"%"},function(){},500)}},t.prototype.finish=function(r,e){var t=r.target,a=e.interval;clearInterval(a),t.style.position=""},t.prototype.error=function(r,e){r.target;var t=r.error,a=(e.interval,e.barEl),n=e.errorEl;a.className="bjax-percentloader-bar bjax-percentloader-bar-error",n.innerHTML=t.message},t}();exports.PercentLoader=t;
},{"../../dom":"HSCZ"}],"o2OF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"bindLinks",{enumerable:!0,get:function(){return e.bindLinks}}),Object.defineProperty(exports,"BindLinksOptions",{enumerable:!0,get:function(){return e.BindLinksOptions}}),Object.defineProperty(exports,"loadLink",{enumerable:!0,get:function(){return e.loadLink}}),Object.defineProperty(exports,"LoadLinkOptions",{enumerable:!0,get:function(){return e.LoadLinkOptions}}),Object.defineProperty(exports,"liveBind",{enumerable:!0,get:function(){return r.liveBind}}),Object.defineProperty(exports,"find",{enumerable:!0,get:function(){return r.find}}),Object.defineProperty(exports,"findAll",{enumerable:!0,get:function(){return r.findAll}}),Object.defineProperty(exports,"Loader",{enumerable:!0,get:function(){return n.Loader}}),Object.defineProperty(exports,"LoaderErrorParams",{enumerable:!0,get:function(){return n.LoaderErrorParams}}),Object.defineProperty(exports,"LoaderParams",{enumerable:!0,get:function(){return n.LoaderParams}}),Object.defineProperty(exports,"PercentLoader",{enumerable:!0,get:function(){return t.PercentLoader}});var e=require("./link"),r=require("./dom"),n=require("./loaders"),t=require("./loaders/percent");
},{"./link":"H0qo","./dom":"HSCZ","./loaders":"lXEa","./loaders/percent":"ozBm"}],"tZdW":[function(require,module,exports) {
"use strict";var e=t(require("../"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function t(e){if(e&&e.__esModule)return e;var t=r();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}}return n.default=e,t&&t.set(e,n),n}window.Bjax=e;
},{"../":"o2OF"}]},{},["tZdW"], null)
//# sourceMappingURL=/bjax.js.map